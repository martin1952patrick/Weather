{"ast":null,"code":"import _regeneratorRuntime from\"/home/martin/Documents/Martin/RAPID/Weather/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/martin/Documents/Martin/RAPID/Weather/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";var base_url=\"https://api.openweathermap.org/data/2.5/weather?\";var language=\"en\";var units=\"metric\";export var getLocalWeather=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var weather;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(process.env.REACT_APP_WEATHER_API_KEY);_context.next=3;return axios.get(\"\".concat(base_url,\"lat=50.15&lon=28.39&appid=\").concat(process.env.REACT_APP_WEATHER_API_KEY,\"&units=\").concat(units,\"&lang=\").concat(language));case 3:weather=_context.sent;return _context.abrupt(\"return\",weather.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getLocalWeather(){return _ref.apply(this,arguments);};}();export var getWeatherByCityName=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(cityName){var weather;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(cityName,\"&APPID=\").concat(process.env.REACT_APP_WEATHER_API_KEY,\"&units=\").concat(units,\"&lang=\").concat(language));case 3:weather=_context2.sent;return _context2.abrupt(\"return\",weather.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);if(!cityName){alert(\"\".concat(_context2.t0.response.statusText,\". Enter city name again after 3 second\"));}case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function getWeatherByCityName(_x){return _ref2.apply(this,arguments);};}();export var getWeatherByCoordinates=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(lat,lon){var weather;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(process.env.REACT_APP_WEATHER_API_KEY,\"&units=\").concat(units,\"&lang=\").concat(language));case 3:weather=_context3.sent;return _context3.abrupt(\"return\",weather.data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);if(lat&&lon){alert(\"\".concat(_context3.t0.response.statusText,\", coordinates have not been found\"));}case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function getWeatherByCoordinates(_x2,_x3){return _ref3.apply(this,arguments);};}();// export const get4daysWeather = async () => {\n//     try {\n//         const weather = await axios.get(`https://api.openweathermap.org/data/2.5/forecast?lat=48.48&lon=22.22&appid=${process.env.REACT_APP_WEATHER_API_KEY}`)\n//         return weather.data\n//     } catch(error: any) {\n//         alert(error.response.statusText)\n//     }\n// }","map":{"version":3,"names":["axios","base_url","language","units","getLocalWeather","console","log","process","env","REACT_APP_WEATHER_API_KEY","get","weather","data","getWeatherByCityName","cityName","alert","response","statusText","getWeatherByCoordinates","lat","lon"],"sources":["/home/martin/Documents/Martin/RAPID/Weather/src/api/WeatherService.ts"],"sourcesContent":["import axios from \"axios\";\nimport { ICity } from \"../types/city\";\n\nconst base_url = \"https://api.openweathermap.org/data/2.5/weather?\"\nconst language = \"en\";\nconst units = \"metric\"\n\nexport const getLocalWeather = async () => {\n    console.log(process.env.REACT_APP_WEATHER_API_KEY)\n    const weather = await axios.get(`${base_url}lat=50.15&lon=28.39&appid=${process.env.REACT_APP_WEATHER_API_KEY}&units=${units}&lang=${language}`)\n    return weather.data\n}\n\nexport const getWeatherByCityName = async (cityName: string) => {\n    try {\n        const weather = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&APPID=${process.env.REACT_APP_WEATHER_API_KEY}&units=${units}&lang=${language}`)\n        return weather.data\n    } catch(error: any) {\n        if(!cityName) {\n            alert(`${error.response.statusText}. Enter city name again after 3 second`)\n        }\n    }\n}\n\nexport const getWeatherByCoordinates = async (lat: ICity[\"latitude\"], lon: ICity[\"longitude\"]) => {\n    try {\n        const weather = await axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${process.env.REACT_APP_WEATHER_API_KEY}&units=${units}&lang=${language}`)\n        return weather.data\n    } catch (error: any) {\n        if(lat && lon) {\n            alert(`${error.response.statusText}, coordinates have not been found`)\n        }\n    }\n}   \n\n// export const get4daysWeather = async () => {\n//     try {\n//         const weather = await axios.get(`https://api.openweathermap.org/data/2.5/forecast?lat=48.48&lon=22.22&appid=${process.env.REACT_APP_WEATHER_API_KEY}`)\n//         return weather.data\n//     } catch(error: any) {\n//         alert(error.response.statusText)\n//     }\n// }"],"mappings":"kRAAA,MAAOA,MAAP,KAAkB,OAAlB,CAGA,GAAMC,SAAQ,CAAG,kDAAjB,CACA,GAAMC,SAAQ,CAAG,IAAjB,CACA,GAAMC,MAAK,CAAG,QAAd,CAEA,MAAO,IAAMC,gBAAe,4FAAG,iJAC3BC,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,yBAAxB,EAD2B,sBAELT,MAAK,CAACU,GAAN,WAAaT,QAAb,sCAAkDM,OAAO,CAACC,GAAR,CAAYC,yBAA9D,mBAAiGN,KAAjG,kBAA+GD,QAA/G,EAFK,QAErBS,OAFqB,+CAGpBA,OAAO,CAACC,IAHY,wDAAH,kBAAfR,gBAAe,0CAArB,CAMP,MAAO,IAAMS,qBAAoB,6FAAG,kBAAOC,QAAP,4KAENd,MAAK,CAACU,GAAN,6DAA+DI,QAA/D,mBAAiFP,OAAO,CAACC,GAAR,CAAYC,yBAA7F,mBAAgIN,KAAhI,kBAA8ID,QAA9I,EAFM,QAEtBS,OAFsB,iDAGrBA,OAAO,CAACC,IAHa,6DAK5B,GAAG,CAACE,QAAJ,CAAc,CACVC,KAAK,WAAI,aAAMC,QAAN,CAAeC,UAAnB,2CAAL,CACH,CAP2B,sEAAH,kBAApBJ,qBAAoB,6CAA1B,CAWP,MAAO,IAAMK,wBAAuB,6FAAG,kBAAOC,GAAP,CAA+BC,GAA/B,4KAETpB,MAAK,CAACU,GAAN,+DAAiES,GAAjE,iBAA4EC,GAA5E,mBAAyFb,OAAO,CAACC,GAAR,CAAYC,yBAArG,mBAAwIN,KAAxI,kBAAsJD,QAAtJ,EAFS,QAEzBS,OAFyB,iDAGxBA,OAAO,CAACC,IAHgB,6DAK/B,GAAGO,GAAG,EAAIC,GAAV,CAAe,CACXL,KAAK,WAAI,aAAMC,QAAN,CAAeC,UAAnB,sCAAL,CACH,CAP8B,sEAAH,kBAAvBC,wBAAuB,kDAA7B,CAWP;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}